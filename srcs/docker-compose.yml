version: '3'

services:

  nginx:
    build:
      context: ./requirements/nginx
      dockerfile: Dockerfile
    container_name: nginx
      # depends_on:
      # - wordpress
      # - mariadb

    #networks:
     # - inception
    ports:
        - "443:443"
    volumes:
      - ./requirements/nginx/conf/:/etc/nginx/http.d/
      # - wordpress_volume:/var/www/wordpress

  mariadb:
    build:
      context: ./requirements/mariadb
      dockerfile: Dockerfile
      args:
        DB_NAME: ${DB_NAME}
        DB_USER: ${DB_USER}
        DB_PASS: ${DB_PASS}
        DB_ROOT: ${DB_ROOT}
    container_name: mariadb
    ports:
      - "3306:3306"
      
    restart: unless-stopped
